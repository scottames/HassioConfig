- id: '1637706344383'
  alias: Pushover - HA Start
  description: ''
  trigger:
  - platform: homeassistant
    event: start
  condition: []
  action:
  - service: notify.pushover
    data:
      message: Home Assistant Started
      title: Home Assistant Started
  mode: single
- id: '1637706485400'
  alias: Pushover - HA Shutdown
  description: ''
  trigger:
  - platform: homeassistant
    event: shutdown
  condition: []
  action:
  - service: notify.pushover
    data:
      message: Home Assistant shutdown initiated
      title: Home Assistant Shutdown
  mode: single
- id: '1637777786441'
  alias: Pushover - Low battery level detection & notification for all battery sensors
  description: ''
  use_blueprint:
    path: sbyx/low-battery-level-detection-notification-for-all-battery-sensors.yaml
    input:
      actions:
      - data:
          message: The battery of the sensor(s) {{sensors}} is low.
          title: Low battery
        action: notify.pushover
      threshold: 15
- id: '1637780058510'
  alias: Pushover - Water Leak in the Kitchen!
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - binary_sensor.water_leak_xs_sensor_water_alarm_water_leak_detected_3
    from: 'off'
    to: 'on'
  - trigger: state
    entity_id:
    - binary_sensor.water_leak_xs_sensor_water_alarm_water_leak_detected
    from: 'off'
    to: 'on'
  conditions: []
  actions:
  - data:
      title: Water Leak Detected in Kitchen
      message: Water leak detected in Kitchen!
      data:
        priority: 2
        sound: siren
        expire: 600
        retry: 30
    action: notify.pushover
  mode: single
- id: '1637790536996'
  alias: Pushover - Door Opened
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - binary_sensor.front_door_lock_window_door_is_open
    to: 'on'
    from: 'off'
  - trigger: state
    entity_id:
    - binary_sensor.open_close_patio_door_window_door_is_open
    from: 'off'
    to: 'on'
  - trigger: state
    entity_id:
    - binary_sensor.entryway_lock_garage_window_door_is_open
    from: 'off'
    to: 'on'
  conditions: []
  actions:
  - data:
      title: '{{ trigger.from_state.attributes.friendly_name }}ed'
      message: '{{ trigger.from_state.attributes.friendly_name }}ed'
    action: notify.pushover
  mode: single
- id: '1637810805250'
  alias: Pushover - Water Leak in the Laundry!
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - binary_sensor.leak_laundry_dryer_water_leak_detected
    from: 'off'
    to: 'on'
  - trigger: state
    entity_id:
    - binary_sensor.leak_laundry_washer_water_leak_detected
    from: 'off'
    to: 'on'
  conditions: []
  actions:
  - data:
      title: Water Leak Detected in Laundry
      message: Water leak detected in Laundry!
      data:
        priority: 2
        sound: siren
        expire: 600
        retry: 30
    action: notify.pushover
  mode: single
- id: '1637811125957'
  alias: Pushover - Water Leak Detected in P.Bathroom
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - binary_sensor.leak_primary_bath_l_water_leak_detected
    from: 'off'
    to: 'on'
  - trigger: state
    entity_id:
    - binary_sensor.leak_primary_bath_r_water_leak_detected
    from: 'off'
    to: 'on'
  conditions: []
  actions:
  - data:
      title: Water Leak Detected in P.Bathroom
      message: Water leak detected in the Primary Bathroom!
      data:
        priority: 2
        sound: siren
        expire: 600
        retry: 30
    action: notify.pushover
  mode: single
- id: CommitAndPushConfig
  alias: Commit & push config to GitHub
  trigger:
  - at: '23:23:23'
    platform: time
  action:
    service: shell_command.commit_and_push_config
- alias: Update Tesla location as MQTT location updates
  initial_state: true
  trigger:
  - platform: mqtt
    topic: teslamate/cars/1/latitude
  - platform: mqtt
    topic: teslamate/cars/1/longitude
  action:
  - service: device_tracker.see
    data_template:
      dev_id: tesla_location
      gps:
      - '{{ states.sensor.tesla_latitude.state }}'
      - '{{ states.sensor.tesla_longitude.state }}'
  id: eae0518472f142eda154afbc5a3ff4eb
- id: '1664732237511'
  alias: Evee offline >= 7d | notify
  description: ''
  triggers:
  - entity_id:
    - sensor.tesla_state
    to: offline
    for:
      hours: 168
      minutes: 0
      seconds: 0
    trigger: state
  conditions:
  - condition: and
    conditions:
    - condition: state
      entity_id: device_tracker.tesla_location
      state: home
    alias: If Evee is home
  actions:
  - action: notify.mobile_app_pixel_9_pro
    data: {}
  - data:
      message: Evee offline for 7 days. Give her some attention by taking her for
        a drive or charging her up!
      title: Give Evee ♥️
    action: notify.mobile_app_alyssa_s_iphone
  mode: single
- id: '1674759441259'
  alias: RPi Stock Notification
  description: ''
  trigger:
  - platform: event
    event_type: feedreader
    event_data:
      feed_url: https://rpilocator.com/feed/?country=US
    context: {}
  condition: []
  action:
  - service: notify.mobile_app_pixel_7_pro
    data:
      title: RPi In-Stock!
      message: RPi In-Stock - {{ as_timestamp(now()) | timestamp_custom('%I:%M:%S
        %p %d%b%Y', true) }}
  mode: single
- alias: Washer - Remote Start
  description: ''
  trigger: []
  condition: []
  action:
  - wait_template: '{{ is_state(''binary_sensor.cheap-sensor'', ''on'') }}'
    continue_on_timeout: true
  - service: smartthinq_sensors.remote_start
    data: {}
    target:
      device_id: 18514f4a7677f4c8488c8b21b3788eda
  mode: single
  id: 0449660297d74f0dbe6421c43bffee20
- id: '1735607074779'
  alias: Dishwasher Plug (Blueprint)
  description: ''
  use_blueprint:
    path: sbyx/notify-or-do-something-when-an-appliance-like-a-dishwasher-or-washing-machine-finishes.yaml
    input:
      power_sensor: sensor.indoor_smart_plug_electric_consumption_w
      actions:
      - action: notify.pushover
        metadata: {}
        data:
          message: Dishwasher
          title: Dishwasher
      pre_actions:
      - action: notify.pushover
        metadata: {}
        data:
          message: Dishwasher?
          title: Dishwasher?
- id: '1735701322875'
  alias: Pushover - Vehicle Arriving
  description: ''
  triggers:
  - type: turned_on
    device_id: c5f21287a845e2f8c520854fef6381bb
    entity_id: 6498b32c7f4efd359776203c68fea7af
    domain: binary_sensor
    trigger: device
  conditions: []
  actions:
  - action: notify.pushover
    metadata: {}
    data:
      message: Vehicle arriving!
      title: Vehicle arriving!
  mode: single
- id: '1735857023139'
  alias: Notify Discord | Bambu Lab H2D Google Alert
  description: ''
  triggers:
  - trigger: event
    event_type: feedreader
    event_data:
      feed_url: https://www.google.com/alerts/feeds/01630421403940089818/14089162079937781971
  conditions: []
  actions:
  - action: notify.cupway_home_assistant
    metadata: {}
    data:
      message: '{{ trigger.event.data.link }}'
      target:
      - '1324499257948110899'
  mode: single
- id: 89ce6a96188d4080956bfc8b8a6f692b
  alias: Notify Test | RSS
  description: ''
  triggers:
  - trigger: event
    event_type: feedreader
    event_data:
      feed_url: https://www.reddit.com/r/unixporn/.rss
  conditions: []
  actions:
  - action: notify.pushover
    metadata: {}
    data:
      message: '{{ trigger.event.data.link }}'
  - action: notify.cupway_home_assistant
    metadata: {}
    data:
      message: '{{ trigger.event.data.link }}'
      target:
      - '1324499257948110899'
- id: '1736444785585'
  alias: Litter Boxed Used
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - binary_sensor.tilt_litter_box_tampering_product_cover_removed
    to: 'on'
    from: 'off'
  conditions: []
  actions:
  - action: script.neato_clean_kitty_zone
    metadata: {}
    data: {}
  mode: single
- id: '1736569620949'
  alias: Patio Lights
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - binary_sensor.open_close_patio_door_window_door_is_open
    from: 'off'
    to: 'on'
    id: door opened
  - trigger: state
    entity_id:
    - binary_sensor.open_close_patio_door_window_door_is_open
    to: 'off'
    for:
      hours: 0
      minutes: 10
      seconds: 0
    id: door closed for 10 min
  conditions:
  - condition: state
    entity_id: input_boolean.automation_patio
    state: 'on'
  actions:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - door opened
      sequence:
      - type: turn_on
        device_id: 08a9d9067c0616f564e45e9fe02a35a3
        entity_id: bae443432164d39b9d3e273baeb780b8
        domain: light
    - conditions:
      - condition: trigger
        id:
        - door closed for 10 min
      sequence:
      - type: turn_off
        device_id: 08a9d9067c0616f564e45e9fe02a35a3
        entity_id: bae443432164d39b9d3e273baeb780b8
        domain: light
  mode: single
- id: '1737844800222'
  alias: Pushover - Water Leak Detected in Garage closet!
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - binary_sensor.leak_water_heater_water_leak_detected
    from: 'off'
    to: 'on'
  conditions: []
  actions:
  - data:
      title: Water Leak Detected in Garage closet!
      message: Water leak detected in Garage closet! (water heater)
      data:
        priority: 2
        sound: siren
        expire: 600
        retry: 30
    action: notify.pushover
  mode: single
- id: '1737921233821'
  alias: Dishwasher Running
  description: ''
  triggers:
  - entity_id:
    - sensor.kitchen_plug_dishwasher_electric_consumption_w
    above: 7
    for:
      hours: 0
      minutes: 3
      seconds: 0
      milliseconds: 0
    trigger: numeric_state
  conditions:
  - condition: not
    conditions:
    - condition: state
      entity_id: input_select.dishwasher_state
      state: Running
  actions:
  - data:
      option: Running
    action: input_select.select_option
    target:
      entity_id: input_select.dishwasher_state
  mode: single
- id: '1737921340155'
  alias: Dishwasher Complete (2W)
  description: ''
  triggers:
  - entity_id:
    - sensor.kitchen_plug_dishwasher_electric_consumption_w
    above: 2
    below: 4
    for:
      hours: 0
      minutes: 1
      seconds: 0
    trigger: numeric_state
  conditions:
  - condition: state
    entity_id: input_select.dishwasher_state
    state: Running
  actions:
  - data:
      option: Complete
    action: input_select.select_option
    target:
      entity_id: input_select.dishwasher_state
  - data:
      option: Clean
    action: input_select.select_option
    target:
      entity_id:
      - input_select.dishwasher_clean_status
  mode: single
- id: '1737921360730'
  alias: Dishwasher Off
  description: ''
  triggers:
  - entity_id:
    - sensor.kitchen_plug_dishwasher_electric_consumption_w
    below: 0.75
    for:
      hours: 0
      minutes: 3
      seconds: 0
      milliseconds: 0
    trigger: numeric_state
  conditions:
  - condition: not
    conditions:
    - condition: state
      entity_id: input_select.dishwasher_state
      state: 'Off'
  actions:
  - data:
      entity_id: input_select.dishwasher_state
      option: 'Off'
    action: input_select.select_option
  mode: single
- id: '1737921371558'
  alias: Dishwasher Standby
  description: ''
  triggers:
  - entity_id:
    - sensor.kitchen_plug_dishwasher_electric_consumption_w
    above: 2
    below: 7
    for:
      hours: 0
      minutes: 1
      seconds: 0
      milliseconds: 0
    trigger: numeric_state
  conditions:
  - condition: state
    entity_id: input_select.dishwasher_state
    state: 'Off'
  actions:
  - data:
      entity_id: input_select.dishwasher_state
      option: Standby
    action: input_select.select_option
  mode: single
- id: '1737922698268'
  alias: Pushover - Dishwasher Off
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - input_select.dishwasher_state
    to: 'Off'
  conditions:
  - condition: not
    conditions:
    - condition: state
      entity_id: input_select.dishwasher_state
      state: 'Off'
  actions:
  - data:
      message: Dishwasher Off (input)
      title: Dishwasher Off
    action: notify.pushover
  mode: single
- id: '1737922711900'
  alias: Pushover - Dishwasher Complete
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - input_select.dishwasher_state
    to: Complete
    from: Running
  - trigger: state
    entity_id: input_select.dishwasher_state
    from: Active
    to: 'Off'
  conditions: []
  actions:
  - data:
      message: Dishwasher Complete (input)
      title: Dishwasher Complete
    action: notify.pushover
  mode: single
- id: '1737948905959'
  alias: Spaceship -  Closet Motion Lights On
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - binary_sensor.hue_motion_sensor_spaceship_closet_motion
    to: 'on'
    from: 'off'
  conditions:
  - condition: and
    conditions:
    - condition: state
      entity_id: light.hue_lightstrip_1
      state: 'off'
    - condition: state
      entity_id: light.hue_lightstrip_spaceship_closet_overhead
      state: 'off'
  - condition: state
    entity_id: input_boolean.automation_spaceship_lights
    state: 'on'
  actions:
  - choose:
    - conditions:
      - condition: sun
        after: sunset
        before: sunrise
      sequence:
      - type: turn_on
        device_id: 641aec2de478db9b2924d2b8f6230c16
        entity_id: 8e2381f3aaacff89286a28147838f98b
        domain: light
        brightness_pct: 25
      - type: turn_on
        device_id: e40586f7262fe6856ab91a844da8fd6f
        entity_id: 3a56612821d823cb8e4484697d7ff516
        domain: light
        brightness_pct: 50
    - conditions:
      - condition: sun
        before: sunset
        after: sunrise
      sequence:
      - type: turn_on
        device_id: 641aec2de478db9b2924d2b8f6230c16
        entity_id: 8e2381f3aaacff89286a28147838f98b
        domain: light
        brightness_pct: 100
      - type: turn_on
        device_id: e40586f7262fe6856ab91a844da8fd6f
        entity_id: 3a56612821d823cb8e4484697d7ff516
        domain: light
        brightness_pct: 100
  mode: single
- id: '1737958665121'
  alias: Spaceship - Closet No Motion Lights Off
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - binary_sensor.hue_motion_sensor_spaceship_closet_motion
    to: 'off'
    for:
      hours: 0
      minutes: 5
      seconds: 0
  conditions:
  - condition: state
    entity_id: input_boolean.automation_spaceship_lights
    state: 'on'
  actions:
  - type: turn_off
    device_id: 641aec2de478db9b2924d2b8f6230c16
    entity_id: 8e2381f3aaacff89286a28147838f98b
    domain: light
  - type: turn_off
    device_id: e40586f7262fe6856ab91a844da8fd6f
    entity_id: 3a56612821d823cb8e4484697d7ff516
    domain: light
  mode: single
- id: '1738048118852'
  alias: Sunset
  description: ''
  triggers:
  - trigger: sun
    event: sunset
    offset: 0
  conditions: []
  actions:
  - action: script.close_shades
    metadata: {}
    data: {}
  - if:
    - condition: state
      entity_id: input_boolean.automation_cans_brightness_dimming
      state: 'on'
    then:
    - action: script.wip_cans_lower_custom_brightness
      metadata: {}
      data:
        brightness: 15
  mode: single
- id: '1738048776318'
  alias: In Bed
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - binary_sensor.withings_in_bed_scotty
    from: 'off'
    to: 'on'
    for:
      hours: 0
      minutes: 5
      seconds: 0
  conditions:
  - condition: time
    after: '20:00:00'
    weekday:
    - sun
    - mon
    - tue
    - wed
    - thu
    - fri
    - sat
  actions:
  - action: notify.mobile_app_pixel_9_pro
    metadata: {}
    data:
      message: Sleep tight
      title: Goodnight!
  mode: single
- id: '1738276537475'
  alias: Kitchen Lights - Motion
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - binary_sensor.kitchen_motion_motion_detection
    from: 'off'
    to: 'on'
    id: kitchen_motion_detected
  - trigger: state
    entity_id:
    - binary_sensor.kitchen_motion_motion_detection
    id: kitchen_motion_clear
    to: 'off'
    for:
      hours: 0
      minutes: 5
      seconds: 0
  conditions:
  - condition: state
    entity_id: input_boolean.automation_kitchen_motion
    state: 'on'
  - condition: sun
    before: sunrise
    after: sunset
    after_offset: '-30'
    before_offset: '30'
  actions:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - kitchen_motion_detected
      - condition: device
        type: is_off
        device_id: 08a9d9067c0616f564e45e9fe02a35a3
        entity_id: ed3dde7110acc5f8bf1a1bf3abeff341
        domain: switch
        for:
          hours: 0
          minutes: 1
          seconds: 0
      sequence:
      - type: turn_on
        device_id: 08a9d9067c0616f564e45e9fe02a35a3
        entity_id: ed3dde7110acc5f8bf1a1bf3abeff341
        domain: switch
    - conditions:
      - condition: trigger
        id:
        - kitchen_motion_clear
      sequence:
      - type: turn_off
        device_id: 08a9d9067c0616f564e45e9fe02a35a3
        entity_id: ed3dde7110acc5f8bf1a1bf3abeff341
        domain: switch
  mode: single
- id: '1738463341178'
  alias: test2
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - binary_sensor.kitchen_motion_motion_detection
    to: 'on'
  conditions: []
  actions:
  - action: notify.mobile_app_pixel_9_pro
    metadata: {}
    data:
      title: test2
  mode: single
- id: '1738744348919'
  alias: 'Bath Fans - Auto Off Timers '
  description: ''
  triggers:
  - trigger: time
    at: '10:45:00'
    id: Mid morning
  - trigger: time
    at: 04:45:00
    id: Early morning
  conditions: []
  actions:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Early morning
      - condition: state
        entity_id: input_boolean.automation_bath_fans_auto_off_timers
        state: 'on'
      sequence:
      - device_id: 2e2825f3046234899bd9a7f1115983d3
        domain: zwave_js
        type: set_config_parameter
        endpoint: 0
        parameter: 3
        bitmask:
        subtype: 3 (Auto Turn-Off Timer) on endpoint 0
        value: 180
    - conditions:
      - condition: trigger
        id:
        - Mid morning
      sequence:
      - device_id: 2e2825f3046234899bd9a7f1115983d3
        domain: zwave_js
        type: set_config_parameter
        endpoint: 0
        parameter: 3
        bitmask:
        subtype: 3 (Auto Turn-Off Timer) on endpoint 0
        value: 30
  mode: single
- id: '1738803435819'
  alias: Spaceship Lights
  description: ''
  triggers:
  - device_id: fa4b274699e6805a0c458bc63e9304eb
    domain: zwave_js
    type: event.value_notification.central_scene
    property: scene
    property_key: '001'
    endpoint: 0
    command_class: 91
    subtype: Endpoint 0 Scene 001
    trigger: device
    value: 3
    id: Up KeyPressed2x
  - device_id: fa4b274699e6805a0c458bc63e9304eb
    domain: zwave_js
    type: event.value_notification.central_scene
    property: scene
    property_key: '002'
    endpoint: 0
    command_class: 91
    subtype: Endpoint 0 Scene 002
    trigger: device
    value: 3
    id: Down KeyPressed2x
  conditions: []
  actions:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Up KeyPressed2x
      sequence:
      - type: turn_on
        device_id: 241b64b71a7c975218025610de8f4e0d
        entity_id: ed84b1a4568e03d4c0e0f3dd9ad46f9d
        domain: light
    - conditions:
      - condition: trigger
        id:
        - Down KeyPressed2x
      sequence:
      - action: light.turn_off
        metadata: {}
        data: {}
        target:
          area_id: baby
  mode: single
- id: '1738845186258'
  alias: Guest Lights
  description: ''
  triggers:
  - device_id: 1235ec5551883d92b24eaa903c0b6ecc
    domain: zwave_js
    type: event.value_notification.central_scene
    property: scene
    property_key: '001'
    endpoint: 0
    command_class: 91
    subtype: Endpoint 0 Scene 001
    trigger: device
    value: 3
    id: Up KeyPressed2x
  - device_id: 1235ec5551883d92b24eaa903c0b6ecc
    domain: zwave_js
    type: event.value_notification.central_scene
    property: scene
    property_key: '002'
    endpoint: 0
    command_class: 91
    subtype: Endpoint 0 Scene 002
    trigger: device
    id: Down KeyPressed2x
  conditions: []
  actions:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Up KeyPressed2x
      sequence:
      - type: turn_on
        device_id: f0ab274fee444b5f97bf70ce4d4c7513
        entity_id: ebaa9f13363629394758b27d60139446
        domain: light
    - conditions:
      - condition: trigger
        id:
        - Down KeyPressed2x
      sequence:
      - action: light.turn_off
        metadata: {}
        data: {}
        target:
          area_id: guest_room
  mode: single
- id: '1738962844206'
  alias: Sunrise
  description: ''
  triggers:
  - trigger: sun
    event: sunrise
    offset: 0
  conditions: []
  actions:
  - action: script.open_shades
    metadata: {}
    data: {}
  - if:
    - condition: state
      entity_id: input_boolean.automation_cans_brightness_dimming
      state: 'on'
    then:
    - action: script.wip_cans_lower_custom_brightness
      metadata: {}
      data:
        brightness: 87
  mode: single
- id: '1739395693533'
  alias: Dishwasher
  description: ''
  triggers:
  - trigger: state
    entity_id:
    - binary_sensor.dishwasher_door_window_door_is_open
    to: 'on'
    from: 'off'
    for:
      hours: 0
      minutes: 2
      seconds: 0
    id: Dishwasher Door Open
  conditions: []
  actions:
  - choose:
    - conditions:
      - condition: trigger
        id:
        - Dishwasher Door Open
      - condition: or
        conditions:
        - condition: state
          entity_id: input_select.dishwasher_clean_status
          state: Clean
      sequence:
      - action: input_select.select_option
        metadata: {}
        data:
          option: Dirty
        target:
          entity_id: input_select.dishwasher_clean_status
      - action: notify.mobile_app_pixel_9_pro
        metadata: {}
        data:
          message: Dishwasher Emptied!
  mode: single
- id: '1739598160085'
  alias: Night Mode
  description: ''
  triggers:
  - trigger: time
    at: input_datetime.night_mode
  conditions: []
  actions:
  - if:
    - condition: state
      entity_id: input_boolean.automation_cans_brightness_dimming
      state: 'on'
    then:
    - action: script.wip_cans_lower_custom_brightness
      metadata: {}
      data:
        brightness: 5
  - if:
    - condition: numeric_state
      entity_id: number.lights_on
      above: 0
    then:
    - action: notify.mobile_app_pixel_9_pro
      metadata: {}
      data:
        message: 'Lights on '
  mode: single
